# Ù…Ø¹Ù…Ø§Ø±ÙŠØ© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ | Application Architecture

<div align="center">

**Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„ØªÙ‚Ù†ÙŠ Ø§Ù„Ø´Ø§Ù…Ù„ Ù„ØªØ·Ø¨ÙŠÙ‚ Ø¬Ø°ÙˆØ± Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…**  
**Comprehensive Technical Design of Quran Roots Application**

</div>

---

## ğŸ“‹ Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø­ØªÙˆÙŠØ§Øª | Table of Contents

- [Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠØ©](#Ù†Ø¸Ø±Ø©-Ø¹Ø§Ù…Ø©-Ø¹Ù„Ù‰-Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠØ©)
- [Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„ØªÙ‚Ù†ÙŠØ©](#Ø§Ù„Ø¨Ù†ÙŠØ©-Ø§Ù„ØªÙ‚Ù†ÙŠØ©)
- [ØªØ¯ÙÙ‚ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª](#ØªØ¯ÙÙ‚-Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª)
- [Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª](#Ù‚Ø§Ø¹Ø¯Ø©-Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª)
- [ÙˆØ§Ø¬Ù‡Ø© Ø¨Ø±Ù…Ø¬Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª](#ÙˆØ§Ø¬Ù‡Ø©-Ø¨Ø±Ù…Ø¬Ø©-Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª)
- [Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©](#Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª-Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©)
- [Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ø§Ù„Ø©](#Ø¥Ø¯Ø§Ø±Ø©-Ø§Ù„Ø­Ø§Ù„Ø©)
- [Ø§Ù„Ø£Ù…Ø§Ù† ÙˆØ§Ù„Ø£Ø¯Ø§Ø¡](#Ø§Ù„Ø£Ù…Ø§Ù†-ÙˆØ§Ù„Ø£Ø¯Ø§Ø¡)

---

## ğŸ›ï¸ Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠØ© | Architecture Overview

ÙŠØªØ¨Ø¹ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ù…Ø¹Ù…Ø§Ø±ÙŠØ© **Client-Server** Ø­Ø¯ÙŠØ«Ø© Ù…Ø¹ ÙØµÙ„ ÙˆØ§Ø¶Ø­ Ø¨ÙŠÙ† Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø£Ù…Ø§Ù…ÙŠØ© ÙˆØ§Ù„Ø®Ù„ÙÙŠØ©ØŒ Ù…Ø¹ ØªÙƒØ§Ù…Ù„ Ø³Ø­Ø§Ø¨ÙŠ ÙƒØ§Ù…Ù„.

The application follows a modern **Client-Server** architecture with clear separation between frontend and backend, with full cloud integration.

### Ø§Ù„Ù†Ù…Ø· Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠ | Architectural Pattern

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CLIENT LAYER                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚        React SPA (Single Page Application)        â”‚ â”‚
â”‚  â”‚                                                    â”‚ â”‚
â”‚  â”‚  â€¢ React 19 + TypeScript                          â”‚ â”‚
â”‚  â”‚  â€¢ Wouter (Routing)                               â”‚ â”‚
â”‚  â”‚  â€¢ Context API (State)                            â”‚ â”‚
â”‚  â”‚  â€¢ Tailwind CSS + shadcn/ui                       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†•
                     HTTPS/JSON
                           â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SERVER LAYER                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   Vercel Serverless Functions (Express.js)        â”‚ â”‚
â”‚  â”‚                                                    â”‚ â”‚
â”‚  â”‚  â€¢ RESTful API                                    â”‚ â”‚
â”‚  â”‚  â€¢ Business Logic                                 â”‚ â”‚
â”‚  â”‚  â€¢ Data Processing                                â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†•
                    LibSQL Protocol
                           â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   DATABASE LAYER                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚         Turso (Cloud SQLite / LibSQL)             â”‚ â”‚
â”‚  â”‚                                                    â”‚ â”‚
â”‚  â”‚  â€¢ Distributed Edge Database                      â”‚ â”‚
â”‚  â”‚  â€¢ Auto-scaling                                   â”‚ â”‚
â”‚  â”‚  â€¢ Global Replication                             â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”§ Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„ØªÙ‚Ù†ÙŠØ© | Technical Stack

### Frontend Architecture

```typescript
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   PRESENTATION LAYER                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                      â”‚
â”‚  Pages (9 Routes)                                   â”‚
â”‚  â”œâ”€ Home.tsx              - Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ          â”‚
â”‚  â”œâ”€ Dashboard.tsx         - Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª         â”‚
â”‚  â”œâ”€ DetailView.tsx        - ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¬Ø°Ø±            â”‚
â”‚  â”œâ”€ Mushaf.tsx            - Ø§Ù„Ù…ØµØ­Ù Ø§Ù„ÙƒØ§Ù…Ù„           â”‚
â”‚  â”œâ”€ SurahProfile.tsx      - Ù…Ù„Ù ØªØ¹Ø±ÙŠÙ Ø§Ù„Ø³ÙˆØ±Ø©        â”‚
â”‚  â”œâ”€ RootNetworkExplorer   - Ø´Ø¨ÙƒØ© Ø§Ù„Ø¬Ø°ÙˆØ± Ø«Ù„Ø§Ø«ÙŠØ©      â”‚
â”‚  â”œâ”€ RootLengthExplorer    - Ø§Ø³ØªÙƒØ´Ø§Ù Ø­Ø³Ø¨ Ø§Ù„Ø·ÙˆÙ„       â”‚
â”‚  â”œâ”€ Settings.tsx          - Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚        â”‚
â”‚  â””â”€ NotFound.tsx          - ØµÙØ­Ø© 404               â”‚
â”‚                                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                   COMPONENT LAYER                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                      â”‚
â”‚  Layout Components                                  â”‚
â”‚  â”œâ”€ MainLayout            - Ø§Ù„Ù‡ÙŠÙƒÙ„ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ         â”‚
â”‚  â”œâ”€ AppSidebar            - Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ         â”‚
â”‚  â””â”€ TopBar                - Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¹Ù„ÙˆÙŠ          â”‚
â”‚                                                      â”‚
â”‚  Feature Components                                 â”‚
â”‚  â”œâ”€ SearchBar             - ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„Ø¨Ø­Ø«            â”‚
â”‚  â”œâ”€ Results               - Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬            â”‚
â”‚  â”œâ”€ Statistics            - Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª             â”‚
â”‚  â””â”€ Charts/*              - Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠØ©        â”‚
â”‚                                                      â”‚
â”‚  Mushaf Components                                  â”‚
â”‚  â”œâ”€ SearchModal           - Ù†Ø§ÙØ°Ø© Ø¨Ø­Ø« Ø§Ù„Ù…ØµØ­Ù       â”‚
â”‚  â”œâ”€ SurahHeader           - Ø±Ø£Ø³ Ø§Ù„Ø³ÙˆØ±Ø©             â”‚
â”‚  â”œâ”€ Basmala               - Ø§Ù„Ø¨Ø³Ù…Ù„Ø©                â”‚
â”‚  â””â”€ PageContainer         - Ø­Ø§ÙˆÙŠØ© Ø§Ù„ØµÙØ­Ø©           â”‚
â”‚                                                      â”‚
â”‚  UI Components (shadcn/ui - 57+ components)        â”‚
â”‚  â””â”€ Button, Input, Dialog, etc.                    â”‚
â”‚                                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    SERVICE LAYER                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                      â”‚
â”‚  API Services                                       â”‚
â”‚  â”œâ”€ apiClient.ts          - HTTP client            â”‚
â”‚  â”œâ”€ searchService.ts      - Ø¨Ø­Ø« Ø§Ù„Ù…ØµØ­Ù             â”‚
â”‚  â”œâ”€ mushafService.ts      - Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ù…ØµØ­Ù           â”‚
â”‚  â””â”€ errors.ts             - Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡         â”‚
â”‚                                                      â”‚
â”‚  Contexts (State Management)                        â”‚
â”‚  â”œâ”€ QuranContext          - Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù‚Ø±Ø¢Ù† ÙˆØ§Ù„Ø¨Ø­Ø«   â”‚
â”‚  â””â”€ ThemeContext          - Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø¸Ù‡Ø±           â”‚
â”‚                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Backend Architecture

```typescript
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    API LAYER                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                      â”‚
â”‚  Routes (API Endpoints)                             â”‚
â”‚  â”œâ”€ /api/search/*         - Ø¨Ø­Ø« Ø§Ù„Ø¬Ø°ÙˆØ±             â”‚
â”‚  â”œâ”€ /api/mushaf/*         - Ø§Ù„Ù…ØµØ­Ù                 â”‚
â”‚  â”œâ”€ /api/surahs/*         - Ø§Ù„Ø³ÙˆØ±                  â”‚
â”‚  â”œâ”€ /api/resources/*      - Ø§Ù„Ù…ÙˆØ§Ø±Ø¯ (word-index)   â”‚
â”‚  â””â”€ /health               - ØµØ­Ø© Ø§Ù„Ø³ÙŠØ±ÙØ±            â”‚
â”‚                                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                  SERVICE LAYER                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                      â”‚
â”‚  Business Logic                                     â”‚
â”‚  â”œâ”€ Root Search Logic     - Ù…Ù†Ø·Ù‚ Ø§Ù„Ø¨Ø­Ø«             â”‚
â”‚  â”œâ”€ Statistics Calculation - Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª       â”‚
â”‚  â”œâ”€ Data Aggregation      - ØªØ¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª         â”‚
â”‚  â””â”€ Response Formatting   - ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø§Øª       â”‚
â”‚                                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                   DATA LAYER                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                      â”‚
â”‚  Database Access                                    â”‚
â”‚  â”œâ”€ LibSQL Client         - Ø¹Ù…ÙŠÙ„ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª    â”‚
â”‚  â”œâ”€ Query Builder         - Ø¨Ù†Ø§Ø¡ Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù…Ø§Øª       â”‚
â”‚  â””â”€ Connection Pool       - Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø§ØªØµØ§Ù„Ø§Øª        â”‚
â”‚                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ ØªØ¯ÙÙ‚ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª | Data Flow

### ØªØ¯ÙÙ‚ Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø¬Ø°Ø± | Root Search Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     User     â”‚
â”‚  Input Root  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   SearchBar Component            â”‚
â”‚   â€¢ Validate Input               â”‚
â”‚   â€¢ Show Autocomplete            â”‚
â”‚   â€¢ Trigger Search               â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   QuranContext                   â”‚
â”‚   â€¢ searchByRoot(root)           â”‚
â”‚   â€¢ Set Loading State            â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   API Request                    â”‚
â”‚   GET /api/search/root/:root     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Backend Service                â”‚
â”‚   1. Parse request               â”‚
â”‚   2. Query database              â”‚
â”‚   3. Aggregate results           â”‚
â”‚   4. Calculate statistics        â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Turso Database                 â”‚
â”‚   SELECT * FROM token            â”‚
â”‚   WHERE root = ?                 â”‚
â”‚   JOIN ayah  ...                 â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Response Processing            â”‚
â”‚   â€¢ Format ayahs                 â”‚
â”‚   â€¢ Add metadata                 â”‚
â”‚   â€¢ Return JSON                  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   QuranContext Update            â”‚
â”‚   â€¢ Set searchResults            â”‚
â”‚   â€¢ Set statistics               â”‚
â”‚   â€¢ Clear loading                â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   UI Re-render                   â”‚
â”‚   â€¢ Results Component            â”‚
â”‚   â€¢ Statistics Component         â”‚
â”‚   â€¢ Charts Component             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ØªØ¯ÙÙ‚ Ø¨Ø­Ø« Ø§Ù„Ù…ØµØ­Ù | Mushaf Search Flow

```
User Input â†’ SearchModal Component
    â†“
searchInMushaf(query) in searchService.ts
    â†“
Loop through 604 pages (fetchByPage)
    â†“
For each page:
  - Fetch ayahs
  - normalizeForSearch() - remove tashkeel + normalize hamza
  - Match query  
  - highlightText() - dual color highlighting
    â†“
Return merged results
    â†“
Display in SearchModal with lazy loading
```

---

## ğŸ—„ï¸ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª | Database Schema

### Turso (LibSQL) Database Schema

```sql
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    TABLE: ayah                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Column         â”‚ Type      â”‚ Description            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ global_ayah    â”‚ INTEGER   â”‚ PK - Unique ayah ID    â”‚
â”‚ surah_no       â”‚ INTEGER   â”‚ Surah number (1-114)   â”‚
â”‚ ayah_no        â”‚ INTEGER   â”‚ Ayah number in surah   â”‚
â”‚ text           â”‚ TEXT      â”‚ Arabic text (Simple)   â”‚
â”‚ text_uthmani   â”‚ TEXT      â”‚ Uthmani script         â”‚
â”‚ juz            â”‚ INTEGER   â”‚ Juz number (1-30)      â”‚
â”‚ page           â”‚ INTEGER   â”‚ Page number (1-604)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    TABLE: token                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Column         â”‚ Type      â”‚ Description            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id             â”‚ INTEGER   â”‚ PK - Token ID          â”‚
â”‚ global_ayah    â”‚ INTEGER   â”‚ FK â†’ ayah.global_ayah  â”‚
â”‚ token          â”‚ TEXT      â”‚ Word (no diacritics)   â”‚
â”‚ root           â”‚ TEXT      â”‚ Root form              â”‚
â”‚ pos            â”‚ INTEGER   â”‚ Position in ayah       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                TABLE: token_uthmani                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Column         â”‚ Type      â”‚ Description            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id             â”‚ INTEGER   â”‚ PK - Token ID          â”‚
â”‚ global_ayah    â”‚ INTEGER   â”‚ FK â†’ ayah.global_ayah  â”‚
â”‚ token_uthmani  â”‚ TEXT      â”‚ Word (Uthmani script)  â”‚
â”‚ root           â”‚ TEXT      â”‚ Root form              â”‚
â”‚ pos            â”‚ INTEGER   â”‚ Position in ayah       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Indexes (Performance)

```sql
-- Critical indexes for performance
CREATE INDEX idx_token_root ON token(root);
CREATE INDEX idx_token_ayah ON token(global_ayah);
CREATE INDEX idx_ayah_page ON ayah(page);
CREATE INDEX idx_ayah_surah ON ayah(surah_no);
```

### Data Relationships

```
ayah (1) â†â”€â”€â”€â”€ (many) token
â”‚                     â”‚
â”‚                     â””â”€ root â†’ searched term
â”‚
â””â”€ Used for Mushaf display
   â””â”€ Used for page-by-page fetching
```

---

## ğŸŒ ÙˆØ§Ø¬Ù‡Ø© Ø¨Ø±Ù…Ø¬Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª | API Endpoints

### Search API

#### 1. Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø¬Ø°Ø± | Search by Root

```http
GET /api/search/root/:root

Parameters:
  - root: string (Arabic root, 3-5 letters)

Response: {
  "root": "Ø±Ø­Ù…",
  "ayahs": [
    {
      "id": "1:1",
      "surahNo": 1,
      "ayahNo": 1,
      "surahName": "Ø§Ù„ÙØ§ØªØ­Ø©",
      "text": "Ø¨ÙØ³Ù’Ù…Ù Ù±Ù„Ù„ÙÙ‘Ù‡Ù Ù±Ù„Ø±ÙÙ‘Ø­Ù’Ù…ÙÙ°Ù†Ù Ù±Ù„Ø±ÙÙ‘Ø­ÙÙŠÙ…Ù",
      "rootCount": 2,
      "tokens": [...],
      "otherRoots": ["..."],
      "page": 1,
      "juz": 1
    }
  ],
  "totalOccurrences": 57
}

Status Codes:
  - 200: Success
  - 404: Root not found
  - 500: Server error
```

#### 2. Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø¬Ø°Ø± | Root Statistics

```http
GET /api/search/statistics/:root

Response: {
  "statistics": {
    "totalOccurrences": 114,
    "totalAyahs": 57,
    "uniqueSurahs": 25,
    "surahDistribution": {...},
    "topAccompanyingRoots": [[root, count], ...],
    "juzDistribution": {...},
    "pageDistribution": {...},
    "averageOccurrencesPerAyah": "2.00",
    "forms": [{form, count}, ...],
    "timeline": [{order, surah, count}, ...],
    "era": {meccan: 45, medinan: 69},
    "network": {nodes: [...], links: [...]},
    "matrix": [{x, y, value}, ...]
  }
}
```

#### 3. Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ø§Ù„Ø¨Ø­Ø« | Search Suggestions

```http
GET /api/search/suggest?q=<query>

Parameters:
  - q: string (search query, min 2 chars)

Response: ["root1", "root2", "root3", ...]

Note: Uses local word index for fast autocomplete
```

### Mushaf API

#### 4. ØµÙØ­Ø© Ø§Ù„Ù…ØµØ­Ù | Mushaf Page

```http
GET /api/mushaf/page/:pageNumber

Parameters:
  - pageNumber: integer (1-604)

Response: {
  "page": 1,
  "data": [
    {
      "surah_no": 1,
      "ayah_no": 1,
      "text_uthmani": "...",
      "tokens": [...]
    }
  ]
}
```

### Surah API

#### 5. Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø³ÙˆØ± | List Surahs

```http
GET /api/surahs

Response: [
  {
    "number": 1,
    "name": "Ø§Ù„ÙØ§ØªØ­Ø©",
    "arabicName": "Ø§Ù„ÙØ§ØªØ­Ø©",
    "englishName": "Al-Fatiha"
  },
  ...
]
```

#### 6. ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø³ÙˆØ±Ø© | Surah Details

```http
GET /api/surahs/:surahNumber

Parameters:
  - surahNumber: integer (1-114)

Response: {
  "surah": {...},
  "ayahs": [...],
  "roots": [...],
  "statistics": {
    "topRoots": [...],
    "uniqueRoots": [...]
  }
}
```

### Resources API

#### 7. ÙÙ‡Ø±Ø³ Ø§Ù„ÙƒÙ„Ù…Ø§Øª | Word Index

```http
GET /api/resources/word-index

Response: {
  "roots": ["root1", "root2", ...],
  "words": {
    "word1": "root1",
    "word2": "root2",
    ...
  }
}

Note: Cached locally for autocomplete
Size: ~1878 roots, ~15,000+ words
```

---

## ğŸ§© Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© | Core Components

### 1. QuranContext (Global State)

```typescript
interface QuranContextType {
  searchResults: SearchResult | null;
  statistics: Statistics | null;
  loading: boolean;
  error: AppError | null;
  recentSearches: string[];
  
  // Methods
  searchByRoot: (root: string) => Promise<void>;
  suggestRoots: (query: string) => Promise<string[]>;
  removeRecentSearch: (root: string) => void;
  clearResults: () => void;
  clearError: () => void;
}

// Features:
// - Centralized search state
// - Recent searches persistence (localStorage)
// - Word index caching (loaded on mount)
// - Error handling with custom error types
```

### 2. SearchService (Mushaf Search)

```typescript
// Key Functions:

removeTashkeel(text: string): string
// Removes Arabic diacritics (tashkeel)

normalizeForSearch(text: string): string
// Removes tashkeel + normalizes hamza forms

searchInMushaf(query: string): Promise<SearchResult[]>
// Searches all 604 pages
// Returns matches with metadata

highlightText(text: string, query: string): string
// Highlights matched words in results
// Supports dual-color highlighting
```

### 3. Mushaf Page

```typescript
// Features:
// - Full Mushaf display (604 pages)
// - Smooth scrolling
// - Lazy loading
// - FAB with expandable toolbar
// - SearchModal integration
// - Surah separators with Basmala
```

---

## ğŸ“Š Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ø§Ù„Ø© | State Management

### Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ø§Ù„Ø© | State Management Strategy

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          GLOBAL STATE                   â”‚
â”‚  (React Context API)                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          â”‚
â”‚  QuranContext                           â”‚
â”‚  â”œâ”€ Search results                      â”‚
â”‚  â”œâ”€ Statistics                          â”‚
â”‚  â”œâ”€ Loading states                      â”‚
â”‚  â”œâ”€ Error states                        â”‚
â”‚  â””â”€ Recent searches                     â”‚
â”‚                                          â”‚
â”‚  ThemeContext                           â”‚
â”‚  â”œâ”€ Theme (light/dark/system)           â”‚
â”‚  â””â”€ Theme toggle logic                  â”‚
â”‚                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          LOCAL STATE                    â”‚
â”‚  (Component useState)                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          â”‚
â”‚  Page-specific states                   â”‚
â”‚  â”œâ”€ Mushaf page number                  â”‚
â”‚  â”œâ”€ Modal open/close                    â”‚
â”‚  â”œâ”€ Dropdown selections                 â”‚
â”‚  â””â”€ Form inputs                         â”‚
â”‚                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       PERSISTENT STATE                  â”‚
â”‚  (localStorage)                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          â”‚
â”‚  - Recent searches                      â”‚
â”‚  - Theme preference                     â”‚
â”‚  - User preferences                     â”‚
â”‚                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”’ Ø§Ù„Ø£Ù…Ø§Ù† ÙˆØ§Ù„Ø£Ø¯Ø§Ø¡ | Security & Performance

### Ø§Ù„Ø£Ù…Ø§Ù† | Security

1. **Environment Variables** - Sensitive data in `.env`
2. **CORS Configuration** - Restricted origins
3. **Helmet.js** - Security headers
4. **Input Validation** - Zod schemas
5. **SQL Injection Prevention** - Parameterized queries

### Ø§Ù„Ø£Ø¯Ø§Ø¡ | Performance

#### Frontend Optimizations

- âœ… **Code Splitting** - Lazy loading pages
- âœ… **React.memo** - Prevent unnecessary re-renders
- âœ… **Virtual Scrolling** - Large lists (Mushaf)
- âœ… **Image Optimization** - Lazy loading images
- âœ… **Bundle Size** - Tree shaking with Vite

#### Backend Optimizations

- âœ… **Database Indexes** - Fast queries
- âœ… **Edge Functions** - Vercel serverless
- âœ… **Response Compression** - Gzip
- âœ… **Caching** - Word index caching

#### Database Optimizations

- âœ… **Turso Edge Replication** - Global distribution
- âœ… **Query Optimization** - Efficient SQL
- âœ… **Connection Pooling** - Reuse connections

---

## ğŸ“ˆ Ù‚Ø§Ø¨Ù„ÙŠØ© Ø§Ù„ØªØ·ÙˆÙŠØ± | Scalability

### Ù…Ø³ØªÙ‚Ø¨Ù„ Ø§Ù„ØªØ·ÙˆÙŠØ± | Future Scalability

1. **Horizontal Scaling** - Vercel auto-scales
2. **Database Scaling** - Turso distributed
3. **CDN** - Static assets via Vercel Edge
4. **Caching Layer** - Redis for frequently searched roots
5. **Rate Limiting** - Protect API from abuse

---

**ØªÙ… Ø§Ù„ØªØ·ÙˆÙŠØ± Ø¨ÙˆØ§Ø³Ø·Ø© | Developed by**  
**Ø£ÙŠÙ…Ù† Ø£Ø­Ù…Ø¯ Ø§Ù„Ø°Ø§Ù‡Ø¨ÙŠ | Ayman Ahmed Al-Dhahabi**

ğŸ“± +967774998429 | âœ‰ï¸ aymnaldhahby8@gmail.com
